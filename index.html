<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kitty's Worst Nightmare</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Brython Script -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.9.5/brython.min.js"></script>

    <style>
        #game_output {
            font-family: "Courier New", Courier, monospace; /* Use a monospaced font */
            white-space: pre; /* Preserve spaces and line breaks */
            font-size: 16px; /* Adjust the font size as needed */
            line-height: 1.2; /* Adjust the line height to match the art */
            padding: 10px; /* Add some padding for better readability */
            background-color: #f4f4f4; /* Light background to make the text stand out */
            border: 1px solid #ccc; /* Optional border around the output area */
            border-radius: 5px; /* Rounded corners for a cleaner look */
        }
    </style>
</head>
<body onload="brython()">
    <header>
        <h1>Kitty's Worst Nightmare</h1>
    </header>

    <nav>
        <a href="#" id="play_now_button" onclick="startGame()">Play Now</a>
        <a href="about.html">About the Game</a>
        <a href="contact.html">Contact</a>
    </nav>

    <section>
        <h2>Welcome to Kitty's Spooky Adventure!</h2>
        <p>Experience the thrills and chills with our adorable kitty as she navigates through her worst nightmare. Are you brave enough to help her?</p>
    </section>

    <div id="game_output"></div>

    <!-- Game interaction buttons -->
    <button id="brave_button" style="display: none;" onclick="brave()">Be Brave</button>
    <button id="scared_button" style="display: none;" onclick="scared()">Cower</button>
    <button id="forest_button" style="display: none;" onclick="takeForestPath()">Take Forest Path</button>
    <button id="cave_button" style="display: none;" onclick="takeCavePath()">Take Cave Path</button>
    <button id="take_button" style="display: none;" onclick="takeMagicFishBone()">Take the Magic Fish Bone</button>
    <button id="leave_button" style="display: none;" onclick="leaveBone()">Leave the Bone</button>

    <!-- Brython Python Script -->
    <script type="text/python">
        from browser import document, window, alert

        def startGame():
            try:
                document["play_now_button"].style.display = "none"
                document["brave_button"].style.display = "inline-block"
                document["scared_button"].style.display = "inline-block"
                
                # ASCII art for a simple cat
                ascii_art = r"""
                /\_/\  
               ( o.o ) 
                > ^ <
                """
                
                # Story text
                story_text = (
                    "The game has started!\n"
                    f"{ascii_art}\n"
                    "\nWhiskers twitched. Paws stirred. Kitty was having a dream. A dream that was not like any she had ever had before. \n\n"
                    "The soft warmth of her cozy bed was a distant memory as she found herself standing in the middle of a shadowy forest.\n"
                    "The towering trees around her loomed like dark giants, their twisted branches clawing at the sky. ð–£‚ð–£‚ð–£‚ \n\n\n"
                    "The moon, usually a friendly beacon of light, was barely a sliver, casting eerie shadows that danced on the forest floor.\n\n"
                    "\nKittyâ€™s heart began to race.\u2665 \u2665 \n\n\nShe was alone in this strange, spooky place, and a creeping feeling of dread began to settle over her.\n"
                    "This wasnâ€™t like the garden she loved to explore during the day. \n"
                    "There were no familiar smells, no comforting chirps of birds or the gentle rustling of leaves in the breeze.\n\n\n Everything was still...too still...\n\n\n"
                    "As Kitty took a tentative step forward, the ground beneath her paws felt cold and damp. \nThe silence was thick, almost suffocating, but then, out of nowhere, a faint rustling sound broke through the quiet. \n"
                    "Kitty's ears perked up, and her eyes widened.\n\n\n Something was moving in the darkness, and it was getting closer.\n\n"
                    "Suddenly, Kitty was faced with a choice. What should she do? \n\n"
                    "Should she run away, try to find a hiding spot, or maybe see whatâ€”or whoâ€”was making that noise?\n\n\n"
                )
                
                document["game_output"].textContent = story_text
            except Exception as e:
                alert(f"Error in startGame: {e}")

        def brave():
            try:
                document["game_output"].textContent = "You chose to be brave!"
                document["brave_button"].style.display = "none"
                document["scared_button"].style.display = "none"
                document["forest_button"].style.display = "inline-block"
                document["cave_button"].style.display = "inline-block"
            except Exception as e:
                alert(f"Error in brave: {e}")

        def scared():
            try:
                document["game_output"].textContent = "You chose to cower. Game over!"
                document["brave_button"].style.display = "none"
                document["scared_button"].style.display = "none"
            except Exception as e:
                alert(f"Error in scared: {e}")

        def takeForestPath():
            try:
                document["game_output"].textContent = "You took the forest path..."
                document["forest_button"].style.display = "none"
                document["cave_button"].style.display = "none"
                document["take_button"].style.display = "inline-block"
                document["leave_button"].style.display = "inline-block"
            except Exception as e:
                alert(f"Error in takeForestPath: {e}")

        def takeCavePath():
            try:
                document["game_output"].textContent = "You took the cave path..."
                document["forest_button"].style.display = "none"
                document["cave_button"].style.display = "none"
                document["take_button"].style.display = "inline-block"
                document["leave_button"].style.display = "inline-block"
            except Exception as e:
                alert(f"Error in takeCavePath: {e}")

        def takeMagicFishBone():
            try:
                document["game_output"].textContent = "You took the Magic Fish Bone! Victory!"
                document["take_button"].style.display = "none"
                document["leave_button"].style.display = "none"
            except Exception as e:
                alert(f"Error in takeMagicFishBone: {e}")

        def leaveBone():
            try:
                document["game_output"].textContent = "You left the bone. Maybe next time!"
                document["take_button"].style.display = "none"
                document["leave_button"].style.display = "none"
            except Exception as e:
                alert(f"Error in leaveBone: {e}")

        # Expose the Python functions to the global window object
        window.startGame = startGame
        window.brave = brave
        window.scared = scared
        window.takeForestPath = takeForestPath
        window.takeCavePath = takeCavePath
        window.takeMagicFishBone = takeMagicFishBone
        window.leaveBone = leaveBone
    </script>

    <footer>
        <p>&copy; 2024 Kitty's Worst Nightmare. All Rights Reserved.</p>
    </footer>
</body>
</html>
