<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kitty's Worst Nightmare</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Brython Script -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.9.5/brython.min.js"></script>

</head>
<body onload="brython()">
    <header>
        <h1>Kitty's Worst Nightmare</h1>
    </header>

    <nav>
        <a href="#" id="play_now_button" onclick="startGame()">Play Now</a>
        <a href="about.html">About the Game</a>
        <a href="contact.html">Contact</a>
    </nav>

    <section>
        <h2>Welcome to Kitty's Spooky Adventure!</h2>
        <p>Experience the thrills and chills with our adorable kitty as she navigates through her worst nightmare. Are you brave enough to help her?</p>
    </section>

    <div id="game_output"></div>

    <!-- Game interaction buttons -->
    <button id="brave_button" style="display: none;" onclick="brave()">Be Brave</button>
    <button id="scared_button" style="display: none;" onclick="scared()">Cower</button>
    <button id="forest_button" style="display: none;" onclick="takeForestPath()">Take Forest Path</button>
    <button id="cave_button" style="display: none;" onclick="takeCavePath()">Take Cave Path</button>
    <button id="take_button" style="display: none;" onclick="takeMagicFishBone()">Take the Magic Fish Bone</button>
    <button id="leave_button" style="display: none;" onclick="leaveBone()">Leave the Bone</button>

    <!-- Brython Python Script -->
    <script type="text/python">
        from browser import document, window, alert

        def startGame():
            try:
                document["play_now_button"].style.display = "none"
                document["brave_button"].style.display = "inline-block"
                document["scared_button"].style.display = "inline-block"
                
                # Game Intro Story text
                story_text = (
                    "The game has started!\n"
                    "\nWhiskers twitched. Paws stirred. Kitty was having a dream. A dream that was not like any she had ever had before. \n\n"
                    "The soft warmth of her cozy bed was a distant memory as she found herself standing in the middle of a shadowy forest.\n"
                    "The towering trees around her loomed like dark giants, their twisted branches clawing at the sky. ð–£‚ð–£‚ð–£‚ \n\n\n"
                    "The moon, usually a friendly beacon of light, was barely a sliver, casting eerie shadows that danced on the forest floor.\n\n"
                    "\nKittyâ€™s heart began to race.\u2665 \u2665 \n\n\nShe was alone in this strange, spooky place, and a creeping feeling of dread began to settle over her.\n"
                    "This wasnâ€™t like the garden she loved to explore during the day. \n"
                    "There were no familiar smells, no comforting chirps of birds or the gentle rustling of leaves in the breeze.\n\n\n Everything was still...too still...\n\n\n"
                    "As Kitty took a tentative step forward, the ground beneath her paws felt cold and damp. \nThe silence was thick, almost suffocating, but then, out of nowhere, a faint rustling sound broke through the quiet. \n"
                    "Kitty's ears perked up, and her eyes widened.\n\n\n Something was moving in the darkness, and it was getting closer.\n\n"
                    "Suddenly, Kitty was faced with a choice. What should she do? \n\n"
                    "Would she be brave, or would she cower in fear?\n\n\n"
                )
                
                document["game_output"].textContent = story_text
            except Exception as e:
                alert(f"Error in startGame: {e}")

        def brave():
            try:
                # Brave Story text
                brave_text = (
                    "You chose to be brave!\n\n\n"
                    "Kitty takes a deep breath, puffing out her chest as she prepares to confront whatever is lurking in the shadows.\n"
                    "Kitty closed her eyes for a moment and took a deep breath.\n\n\n"
                    "The cool night air filled her lungs, and she felt a small surge of courage.\n"
                    "She wasnâ€™t a big, fierce lion, but she was determined not to let fear control her.\n"
                    "Slowly, she opened her eyes and took a step forward, her tiny body trembling slightly but her heart filled with resolve.\n"
                    "As Kitty stepped closer to the source of the growl, the shadows around her seemed to part, revealing a pair of glowing eyes peering at her from the darkness.\n"
                    "The creature emerged, and Kitty found herself face to face withâ€¦ another cat!\n"
                    "This cat was larger, with sleek black fur that blended into the night.\n"
                    "Its eyes, a bright amber, glinted in the dim light. \n\n"
                    "For a moment, Kitty hesitated, but then she realized that the growl she had heard wasnâ€™t one of menace.\n"
                    "The cat before her wasnâ€™t a monster, it was a fellow traveler, caught in this strange, spooky place just like she was.\n"
                    "The black cat looked at Kitty curiously, tilting its head as if to ask, 'What are you doing here?' \n\n"
                    "Kitty, feeling a little braver now, puffed out her chest and meowed softly.\n\n"
                    "The larger cat blinked slowly, a sign of friendship in the feline world, and stepped closer.\n"
                    "With a flick of its tail, the black cat gestured for Kitty to follow.\n\n"
                    "Together, they walked through the shadowy forest until they reached a fork in the path.\n" 
                    "To the left, a narrow, winding trail led deeper into the forest, where the trees grew even denser and the shadows thicker.\n" 
                    "To the right, a dark, rocky cave entrance loomed, its gaping mouth seeming to swallow the moonlight.\n\n"
                    "Kitty paused, glancing between the two paths. \nThe black cat turned to her, as if asking, 'Which way shall we go?'\n\n"
                    "Both options were filled with uncertainty and possibly danger, but also the promise of new discoveries.\n\n\n"
                    "Kitty knew she had to make another decision.\n\n"
                    )
        
                document["game_output"].textContent = brave_text
                document["brave_button"].style.display = "none"
                document["scared_button"].style.display = "none"
                document["forest_button"].style.display = "inline-block"
                document["cave_button"].style.display = "inline-block"
            except Exception as e:
                alert(f"Error in brave: {e}")


        def scared():
            try:
                document["game_output"].textContent = "You chose to cower in fear.\n\n\nOvercome with terror, Kitty curls up into a tight ball, hoping that whatever is out there wonâ€™t find her..\n\n\n\n\n\n Game over!\n\n\n\n\n\n"
                document["brave_button"].style.display = "none"
                document["scared_button"].style.display = "none"
            except Exception as e:
                alert(f"Error in scared: {e}")

        def takeForestPath():
            try:
                # Forest path Story text
                forestpath_text = ("You took the forest path...\n\n\n"
                    "Kitty/'s heart pounded in her tiny chest, but she steeled herself with a deep breath. She wasn't going to let fear get the best of her. \n"
                    "Gathering her courage, she turned away from the menacing sound and chose the narrow path that wound through the forest. \n"
                    "The path was barely visible under the thick canopy of twisted branches above, but Kitty pressed on, her paws moving with quiet determination.\n"
                    "The trees seemed to close in around her as she walked, their branches whispering like hushed voices. \n"
                    "The air grew colder, and the shadows deepened, but Kitty kept her eyes focused ahead. \n"
                    "She wasnâ€™t sure where the path would lead, but anything was better than standing still in that eerie place.\n\n\n"
                    "After what felt like hours of walking, Kitty noticed a faint glow in the distance. \n"
                    "It was a soft, warm light, flickering like a candle. Curiosity piqued, she quickened her pace, her paws making almost no sound on the damp forest floor. \n"
                    "As she drew closer, the light grew brighter, and she soon found herself at the edge of a small clearing.\n\n\n"
                    "In the center of the clearing stood a stone pedestal, and atop it rested a delicate fishbone, \n"
                    "glowing with an ethereal blue light. Kittyâ€™s eyes widened in wonder as she cautiously approached the pedestal. \n"
                    "The fishbone was unlike anything she had ever seenâ€”its intricate details seemed to shimmer and shift in the dim light.\n\n\n"
                    "As Kitty gazed at the fishbone, a sudden gust of wind swept through the clearing, carrying with it the faintest whisper of a voice. \n"
                    "Take the magic fishbone, and all will be revealed, the voice seemed to say. Kitty hesitated for only a moment before reaching out with a trembling paw.\n\n\n"
                )
        
                document["game_output"].textContent = forestpath_text
                document["forest_button"].style.display = "none"
                document["cave_button"].style.display = "none"
                document["take_button"].style.display = "inline-block"
                document["leave_button"].style.display = "inline-block"
            except Exception as e:
                alert(f"Error in takeForestPath: {e}")

        def takeCavePath():
            try:
                # Cave path story
                cave_text = (
                    "You took the cave path...\n\n\n"
                    "Kitty took a deep breath, her tiny chest rising and falling as she made her decision. \n"
                    "Instead of fleeing or taking the path through the dense forest, she noticed a narrow, dark opening in the side of a hill just off the main path, a cave. \n"
                    "Her curiosity overcame her fear, and with cautious steps, she approached the cave's entrance.\n\n\n"
                    "The mouth of the cave was almost hidden by thick vines, but Kitty managed to squeeze through, her fur brushing against the cold stone walls. \n"
                    "Inside, the air was damp and cool, carrying the faint scent of moss and earth.\n "
                    "The deeper Kitty ventured, the more the darkness swallowed her, but she continued forward, guided by some instinct she couldnâ€™t explain.\n\n\n"                   
                    "The cave was eerily silent, except for the occasional drip of water echoing through the tunnels. \n"
                    "As Kitty navigated the winding passages, she noticed the walls beginning to glow with a faint, otherworldly light. \n"
                    "She followed the light, her paws moving quickly now, as if the cave itself was urging her forward.\n\n\n"
                    "Finally, the tunnel opened into a large cavern, its walls shimmering with bioluminescent moss.\n "
                    "In the center of the cavern, resting on a stone pedestal, was a fishbone that glowed with a soft, blue light, just like the one in the forest path. \n"
                    "Kittyâ€™s eyes widened in amazement as she approached it.\n\n\n"        
                    "As she drew near, a soft voice echoed through the cavern, barely more than a whisper. \n"
                    "'Take the magic fishbone, and the way home will be clear.' Kitty hesitated for only a moment before carefully picking up the fishbone with her paw.\n\n\n"
                )
                document["game_output"].textContent = cave_text 
                document["forest_button"].style.display = "none"
                document["cave_button"].style.display = "none"
                document["take_button"].style.display = "inline-block"
                document["leave_button"].style.display = "inline-block"
            except Exception as e:
                alert(f"Error in takeCavePath: {e}")
        

        def takeMagicFishBone():
            try:
                fishbone_text = (
                    "You took the Magic Fish Bone! \n\n\n"
                    "Just as her paw touched the fishbone, the ground beneath her trembled, and a swirl of light enveloped her. \n"
                    "Everything around her dissolved into a cascade of colors, and before she knew it, she was no longer in the dark.\n\n "
                    "Instead, she found herself back in the familiar warmth of her bed, the fishbone clutched tightly in her paw.\n\n"
                    "Kitty blinked, the dream fading from her mind like morning mist. \n"
                    "But as she looked down, she saw the faint glow of the fishbone in her paw, and she knew that somehow, some way, the magic had been real. \n"
                    "With a contented purr, Kitty nestled back into her bed, the comfort of home settling over her like a warm blanket.\n\n\n")
        
                document["game_output"].textContent = fishbone_text
                document["take_button"].style.display = "none"
                document["leave_button"].style.display = "none"
            except Exception as e:
                alert(f"Error in takeMagicFishBone: {e}")

        def leaveBone():
            try:
                boneend_text = (
                    "Suddenly everything began to dissolve into a hazy mist. \n"
                    "The shadows melted away, and the cold, damp ground beneath her paws was replaced by the soft, warm sheets of her bed. \n"
                    "The dream faded like morning fog, leaving only the faintest memory of what had happened.\n\n\n"
                    "Kitty stirred, blinking sleepily as she realized she was back home, safe and sound.\n "
                    "She stretched out in the warmth of her bed, a soft purr rumbling in her chest. \n"
                    "The mysterious place, the glowing fishbone, and the strange voice all seemed like distant echoes now, fading quickly as she woke.\n\n\n"
                    "With a contented sigh, Kitty curled up, her paws tucked beneath her, and closed her eyes once more. \n"
                    "Maybe next time, she thought, as she drifted back into a peaceful sleep, dreaming of sunny gardens and gentle breezes. \n"
                    "There was always tomorrow, always another dream, another chance to explore the unknown.\n\n\n"
                    "But for now, she was home, and that was all that mattered.\n"
                )
                document["game_output"].textContent = boneend_text
                document["take_button"].style.display = "none"
                document["leave_button"].style.display = "none"
            except Exception as e:
                alert(f"Error in leaveBone: {e}")

        # Expose the Python functions to the global window object
        window.startGame = startGame
        window.brave = brave
        window.scared = scared
        window.takeForestPath = takeForestPath
        window.takeCavePath = takeCavePath
        window.takeMagicFishBone = takeMagicFishBone
        window.leaveBone = leaveBone
    </script>

    <footer>
        <p>&copy; 2024 Kitty's Worst Nightmare. All Rights Reserved.</p>
    </footer>
</body>
</html>
